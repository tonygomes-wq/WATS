[supervisord]
nodaemon=true
user=root
logfile=/var/log/supervisor/supervisord.log
pidfile=/var/run/supervisord.pid
loglevel=info

[program:apache2]
command=/usr/sbin/apache2ctl -D FOREGROUND
autostart=true
autorestart=true
stdout_logfile=/var/log/supervisor/apache2.log
stderr_logfile=/var/log/supervisor/apache2_error.log
priority=10

[program:cron-teams-sync]
command=/usr/local/bin/php /var/www/html/cron/sync_teams_messages.php
autostart=true
autorestart=true
startsecs=0
stdout_logfile=/var/log/supervisor/cron-teams.log
stderr_logfile=/var/log/supervisor/cron-teams-error.log
startretries=999999
stopwaitsecs=60
priority=20

[program:cron-fetch-emails]
command=/usr/local/bin/php /var/www/html/cron/fetch_emails.php
autostart=true
autorestart=true
startsecs=0
stdout_logfile=/var/log/supervisor/cron-emails.log
stderr_logfile=/var/log/supervisor/cron-emails-error.log
startretries=999999
stopwaitsecs=300
priority=30

[program:cron-scheduled-dispatches]
command=/usr/local/bin/php /var/www/html/cron/process_scheduled_dispatches.php
autostart=true
autorestart=true
startsecs=0
stdout_logfile=/var/log/supervisor/cron-dispatches.log
stderr_logfile=/var/log/supervisor/cron-dispatches-error.log
startretries=999999
stopwaitsecs=60
priority=40

[program:cron-cleanup]
command=/usr/local/bin/php /var/www/html/cron/cleanup_old_data.php
autostart=true
autorestart=true
startsecs=0
stdout_logfile=/var/log/supervisor/cron-cleanup.log
stderr_logfile=/var/log/supervisor/cron-cleanup-error.log
startretries=999999
stopwaitsecs=120
priority=50

[program:cron-backup]
command=/usr/local/bin/php /var/www/html/cron/backup_database.php
autostart=true
autorestart=true
startsecs=0
stdout_logfile=/var/log/supervisor/cron-backup.log
stderr_logfile=/var/log/supervisor/cron-backup-error.log
startretries=999999
stopwaitsecs=300
priority=60

[program:cron-analytics]
command=/usr/local/bin/php /var/www/html/cron/calculate_analytics.php
autostart=true
autorestart=true
startsecs=0
stdout_logfile=/var/log/supervisor/cron-analytics.log
stderr_logfile=/var/log/supervisor/cron-analytics-error.log
startretries=999999
stopwaitsecs=60
priority=70
